<div class="panel panel-default" style="margin:10px;">
	<div class="panel-heading">Calendar</div>
	<div class="panel-body">
		<div id="calendar"></div>
	</div>
</div>
<div class="panel panel-default" style="margin:10px;">
	<div class="panel-heading">Logs</div>
	<div class="panel-body">
		Display : 
		<input type="checkbox" class="log-display" id="render-end" checked> Render end
		<input type="checkbox" class="log-display" id="click" checked> Click
		<input type="checkbox" class="log-display" id="contextmenu" checked> Context menu
		<input type="checkbox" class="log-display" id="range" checked> Range selection
		<input type="checkbox" class="log-display" id="mouse-on"> Mouse on
		<input type="checkbox" class="log-display" id="mouse-out"> Mouse out
		
		<div  id="logs" style="border: 1px solid #ccc; height:200px;overflow-y:scroll;font-family:consolas; font-size:10pt">
			
		</div>
	</div>
</div>
<script type="text/javascript" class="publish">
function refreshLog() {
	$("#logs").scrollTop($("#logs")[0].scrollHeight);
}

$(function() {
	var currentYear = new Date().getFullYear();

	$('#calendar').calendar({ 
		enableRangeSelection: true,
		renderEnd: function(e) {
			if($('#render-end').prop('checked'))
			{
				$('#logs').append('<div class="render-end" style="color:#1C7C26">Render end (' + e.currentYear + ')</div');
				refreshLog();
			}
		},
		clickDay: function(e) {
			if($('#click').prop('checked'))
			{
				$('#logs').append('<div class="click" style="color:#1F80C1">Click (' + e.date.toLocaleDateString() + ')</div');
				refreshLog();
			}
		},
		dayContextMenu: function(e) {
			if($('#contextmenu').prop('checked'))
			{
				$('#logs').append('<div class="contextmenu" style="color:#9D29B2">Context menu (' + e.date.toLocaleDateString() + ')</div');
				refreshLog();
			}
		},
		selectRange: function(e) {
			if($('#range').prop('checked'))
			{
				$('#logs').append('<div class="range" style="color:#34A522">Select range (' + e.startDate.toLocaleDateString() +  ' -> ' + e.endDate.toLocaleDateString() +')</div');
				refreshLog();
			}
		},
		mouseOnDay: function(e) {
			if($('#mouse-on').prop('checked'))
			{
				$('#logs').append('<div class="mouse-on" style="color:#F95902">Mouse on (' + e.date.toLocaleDateString() + ')</div');
				refreshLog();
			}
		},
		mouseOutDay: function(e) {
			if($('#mouse-out').prop('checked'))
			{
				$('#logs').append('<div class="mouse-out" style="color:#F90202">Mouse out (' + e.date.toLocaleDateString() + ')</div');
				refreshLog();
			}
		},
		dataSource: [
			{
				startDate: new Date(currentYear, 1, 4),
				endDate: new Date(currentYear, 1, 15)
			},
			{
				startDate: new Date(currentYear, 3, 5),
				endDate: new Date(currentYear, 5, 15)
			}
		]
	});
	
	$('.log-display').click(function() { refreshLog(); });
});
</script>